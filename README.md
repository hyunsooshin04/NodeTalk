# NodeTalk

> AT Protocol κΈ°λ° End-to-End Encrypted λ¶„μ‚° μ±„ν… ν”λ«νΌ
> 
> 
> Private. Federated. Node-to-Node.
> 

NodeTalkλ” **AT Protocol(PDS) μ„μ—μ„ λ™μ‘ν•λ” μ™„μ „ λ¶„μ‚°ν•(E2EE) λ©”μ‹ μ € μ•„ν‚¤ν…μ²**μ…λ‹λ‹¤.

κΈ°μ΅΄ λ©”μ‹ μ €μ²λΌ μ¤‘μ•™ μ„λ²„μ— λ©”μ‹μ§€λ¥Ό μ €μ¥ν•μ§€ μ•κ³ ,

**κ° μ‚¬μ©μμ Personal Data Server(PDS)κ°€ ν•λ‚μ λ…Έλ“κ°€ λμ–΄ μ§μ ‘ ν†µμ‹ **ν•©λ‹λ‹¤.

λ¨λ“  λ©”μ‹μ§€μ™€ νμΌμ€ **ν΄λΌμ΄μ–ΈνΈμ—μ„ μ•”νΈν™”λ ν›„ μ €μ¥**λλ©°,

μ„λ²„λ” μ¤μ§ **λ©”νƒ€λ°μ΄ν„°/λ™κΈ°ν™”/μ‹¤μ‹κ°„ μ•λ¦Ό μ—­ν• λ§ μν–‰**ν•©λ‹λ‹¤.

μ¦‰, μ„λ²„λ” λ©”μ‹μ§€ λ‚΄μ©μ„ μ• μ μ—†μµλ‹λ‹¤.

---

# β¨ ν•µμ‹¬ νΉμ§•

- β… AT Protocol / PDS κΈ°λ° λ¶„μ‚° κµ¬μ΅°
- β… Node-to-Node μ•„ν‚¤ν…μ²
- β… End-to-End Encryption (λ©”μ‹μ§€ + νμΌ)
- β… 1:1 / κ·Έλ£Ή μ±„ν…
- β… λ©€ν‹° λ””λ°”μ΄μ¤ λ™μ‹ λ΅κ·ΈμΈ
- β… Bluesky PDS + Self-host PDS λ™μ‹ μ§€μ›
- β… MinIO κΈ°λ° μ•”νΈν™” νμΌ μ „μ†΅
- β… λ΅μ»¬ κ²€μƒ‰ + μ„ νƒμ  μ•”νΈν™” ν† ν° κ²€μƒ‰
- β… μ„λ²„λ” ν‰λ¬Έ λ°μ΄ν„° λ―Έλ³΄κ΄€

---

# π§  μ„¤κ³„ μ² ν•™

NodeTalkλ” λ‹¤μ μ›μΉ™μ„ κΈ°λ°μΌλ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

### 1. λ°μ΄ν„° μ†μ κ¶

- λ¨λ“  λ©”μ‹μ§€λ” μ‚¬μ©μ PDSμ— μ €μ¥
- μ¤‘μ•™ μ„λ²„κ°€ λ°μ΄ν„° μ†μ ν•μ§€ μ•μ

### 2. Zero Trust μ„λ²„

- μ„λ²„λ” μ•”νΈλ¬Έλ§ μ²λ¦¬
- ν‰λ¬Έ μ ‘κ·Ό λ¶κ°€λ¥

### 3. Federation

- Bluesky κ³„μ •κ³Ό μμ²΄ PDS κ°„ μƒνΈ ν†µμ‹  κ°€λ¥
- νΉμ • ν”λ«νΌ μΆ…μ† μ—†μ

### 4. Privacy First

- λ€ν™”λ°© λ©¤λ²„μ‹­ μ¨κΉ€
- λ©”μ‹μ§€/μ²¨λ¶€ E2EE
- μµμ† λ©”νƒ€λ°μ΄ν„° μ €μ¥

---

# π— μ „μ²΄ μ•„ν‚¤ν…μ²

```
+--------------------+
|      Client|
|--------------------|
|- E2EE crypto|
|- device keys|
|-localsearch|
|- PDS adapter|
+---------+----------+
|
| encrypted records
          v
+--------------------+      +--------------------+
|   Bluesky PDS||   Self-host PDS|
+--------------------+      +--------------------+

^   repo subscribe/ ingest
|
+--------------------------------------+
|           AppView/ Indexer|
|--------------------------------------|
|- metadata index|
|- unread counters|
|-search token index (optional)|
+------------------+-------------------+
|
                   v
+-----------+
| Postgres|
+-----------+

|
                   v
+--------------------------------------+
|         Realtime Gateway (WS)|
|--------------------------------------|
|- presence|
|- push notifications|
|- typing/ read receipts|
+------------------+-------------------+
|
                   v
+-------+
| Redis|
+-------+

Attachments:
Client encrypts β†’ MinIO stores ciphertextonly

```

---

# π§© μ‹μ¤ν… κµ¬μ„±μ”μ†

## Client (Web/App)

- λ©”μ‹μ§€/μ²¨λ¶€ μ•”νΈν™”/λ³µνΈν™”
- ν‚¤ κ΄€λ¦¬ (Device / Room / Group keys)
- λ΅μ»¬ κ²€μƒ‰ μΈλ±μ¤
- MinIO μ—…λ΅λ“/λ‹¤μ΄λ΅λ“
- PDS ν†µμ‹ 

## PDS (Bluesky / Self-host)

- μ•”νΈν™”λ λ μ½”λ“ μ €μ¥μ†
- μ‚¬μ©μ λ°μ΄ν„° μ†μ κ¶ λ³΄μ¥

## AppView / Indexer

- μ—¬λ¬ PDS μ΄λ²¤νΈ μμ§‘
- νƒ€μ„λΌμΈ/μ •λ ¬/λ―Έμ½μ κ³„μ‚°
- λ©”νƒ€λ°μ΄ν„° μΈλ±μ‹±
- κ²€μƒ‰ ν† ν° μΈλ±μ‹± (μµμ…)

## Realtime Gateway

- WebSocket κΈ°λ° μ‹¤μ‹κ°„ μ•λ¦Ό
- presence κ΄€λ¦¬
- typing/read receipt

## MinIO

- μ•”νΈν™”λ νμΌ μ €μ¥μ†
- ν”„λ¦¬μ‚¬μΈ URL μ—…/λ‹¤μ΄

## Metadata DB

- λ©”μ‹μ§€ μ°Έμ΅°/νƒ€μ„λΌμΈ/κ²€μƒ‰ μΈλ±μ¤ μ €μ¥
- ν‰λ¬Έ λ©”μ‹μ§€ μ €μ¥ β

---

# π” λ³΄μ• λ¨λΈ

### λ©”μ‹μ§€

- Client-side encryption
- μ„λ²„λ” ciphertextλ§ μ €μ¥

### μ²¨λ¶€νμΌ

- μ—…λ΅λ“ μ „ μ•”νΈν™”
- MinIOμ—λ” μ•”νΈλ¬Έλ§ μ΅΄μ¬

### κ·Έλ£Ή μ±„ν…

- Sender Key / Group Key κΈ°λ°
- λ©¤λ²„ λ³€κ²½ μ‹ rekey

### λ©€ν‹° λ””λ°”μ΄μ¤

- λ””λ°”μ΄μ¤λ³„ ν‚¤ κ΄€λ¦¬
- μ•”νΈν™”λ ν‚¤ ν¨ν‚¤μ§€ λ™κΈ°ν™”

---

# π” κ²€μƒ‰ μ „λµ

NodeTalkλ” E2EE ν™κ²½μ„ κ³ λ ¤ν•μ—¬ λ‹¤μ λ°©μ‹μ„ μ‚¬μ©ν•©λ‹λ‹¤.

### κΈ°λ³Έ

- λ΅μ»¬ λ³µνΈν™” ν›„ λ΅μ»¬ μΈλ±μ‹±

### μ„ νƒ

- μ•”νΈν™” ν† ν° κΈ°λ° μ„λ²„ κ²€μƒ‰ μΈλ±μ¤

μ„λ²„λ” ν‰λ¬Έ κ²€μƒ‰μ„ μν–‰ν•μ§€ μ•μµλ‹λ‹¤.

---

# π”„ λ°μ΄ν„° νλ¦„ μμ‹

### λ©”μ‹μ§€ μ „μ†΅

1. ν΄λΌμ΄μ–ΈνΈ μ•”νΈν™”
2. PDSμ— record μ €μ¥
3. AppView μΈλ±μ‹±
4. Gateway push
5. μμ‹ μ λ³µνΈν™”

### νμΌ μ „μ†΅

1. λ΅μ»¬ μ•”νΈν™”
2. MinIO μ—…λ΅λ“
3. μ•”νΈν™”λ μ°Έμ΅°λ¥Ό λ©”μ‹μ§€μ— ν¬ν•¨